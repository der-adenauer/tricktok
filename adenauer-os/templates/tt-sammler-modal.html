<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8">
  <title>TT-Sammler Modal</title>

  <!-- Dein unverändertes, größeres CSS (system.css) -->
  <link rel="stylesheet" href="{{ url_for('static', filename='system.css') }}">

  <!-- Zusätzliche Retro-/Kompakt-Anpassungen direkt in der HTML-Datei -->
  <style>
    /* Systemschrift: neutral, retro-geeignet */
    body, button, textarea, input, select, a, p, h2, h3, li {
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Ubuntu, sans-serif;
    }

    /* Kompakter Container */
    .modal-container {
      position: relative;
      padding: 10px;
      margin: 0;
    }

    /* Schlichte, retro-ähnliche Buttons ohne Hover-Animation */
    button, .btn-link {
      background-color: #fff;;   /* dunkler, grauer Ton */
      color: #111;             /* weiße Schrift */
      border: 2px solid #000;  /* dicker, schwarzer Rand */
      border-radius: 2px;      /* leicht eckig */
      padding: 5px 10px;       /* kompakter Abstand */
      cursor: pointer;
      text-decoration: none;   /* bei <a>-Links */
      font-size: 0.9rem;
      /* Keine Hover-Animation, keine Farbänderung */
    }
    
    /* Export-Button oben rechts, ebenfalls retro */
    .export-button {
      position: absolute;
      top: 5px;
      right: 5px;
    }

    /* Überschriften kompakt */
    h2 {
      font-size: 1.1rem;
      margin: 0;
      padding: 5px 0;
      text-align: center;
    }
    h3 {
      font-size: 0.95rem;
      margin: 10px 0 0;
      text-align: center;
    }

    /* Absatz / Info-Text etwas enger */
    p {
      margin: 5px 0;
      text-align: center;
      font-size: 0.85rem;
    }

    /* Tooltip etwas schmaler */
    .tooltip .tooltiptext {
      width: 300px;
      padding: 5px;
    }

    /* Formular kompakt */
    form {
      margin: 10px 0;
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 5px;
    }
    textarea {
      font-size: 1.2em;
      padding: 6px;
      border: 1px solid #222;
      border-radius: 2px;
    }

    /* Liste enger */
    ul {
      margin: 5px 0;
      padding: 0;
      list-style: none;
    }
    ul li {
      margin-bottom: 3px;
      padding: 5px;
      background-color: #fff;
      border-radius: 2px;
    }

    /* Pagination kompakt */
    .pagination {
      display: flex;
      justify-content: center;
      gap: 5px;
      margin-top: 5px;
    }
  </style>
</head>
<body>

{% if fehlermeldung %}
  <p style="color:red; text-align:center;">{{ fehlermeldung }}</p>
{% endif %}

<div class="modal-container">
  <!-- Export CSV oben rechts -->
  <a href="{{ url_for('export_csv') }}" class="export-button btn-link">Export CSV</a>

  <h2>Neuer TT-Link</h2>
<p style="text-align: left; margin: 0; padding: 0;">
  Sie werden hiermit angewiesen, eine Vorauswahl von Internetverweisen, im Folgenden als sogenannte „Links“ bezeichnet, vorzunehmen. Diese Links sollen potenziell verdächtige Inhalte betreffen, die auf der Kommunikations- und Unterhaltungsplattform „TikTok“ vorzufinden sind.
</p>

  <p>
    <span class="tooltip">?
      <span class="tooltiptext">
        Es kann immer nur ein Link gesendet werden. <br>
        Nur eine Eingabe alle 10 Sekunden. <br>
        Das Programm erkennt automatisch TikTok-Links. <br>
        Duplikate werden übersprungen.
      </span>
    </span>
  </p>

  <!-- Formular -->
  <form method="POST" action="/tt_sammler_db">
    <textarea name="eingabe_link" rows="1" placeholder="TikTok-Link" required></textarea>
    <!-- Schlichte Retro-Buttons ohne Hover-Farbwechsel -->
    <button>Speichern</button>
    <!-- Falls „Weitermachen“-Button benötigt: -->
    <!-- <button>Weiter</button> -->
  </form>

  <h3>Gesamtanzahl gespeicherter Einträge: {{ total_links }}</h3>
  <p>Tiktok-Kanal Datenbank</p>

  <ul>
    {% for (kanal, zeitstempel) in links %}
      <li>{{ kanal }} – {{ zeitstempel }}</li>
    {% endfor %}
  </ul>

  <!-- Pagination -->
  <div class="pagination">
    {% if page > 1 %}
      <a href="?page={{ page - 1 }}" class="btn-link">« Zurück</a>
    {% endif %}
    {% if total_links > page * per_page %}
      <a href="?page={{ page + 1 }}" class="btn-link">Weiter »</a>
    {% endif %}
  </div>
</div>

</body>
</html>
